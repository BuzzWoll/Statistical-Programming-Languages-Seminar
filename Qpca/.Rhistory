knitr::opts_chunk$set(echo = TRUE)
train[,1] = as.POSIXct(train[,1])
load("../Qdataprep/data.RData")
train[,1] = as.POSIXct(train[,1])
end_date = as.POSIXct("2015-01-01")
x = train[train$date < a,]
x = train[train$date < end_date,]
y = x$`S&P500`
pca_data = prcomp(x[,-1],
center = T,
scale. = T)
summary(pca_data)
plot(pca_data, type = "l")
plot(pca_data, type = "l")
summary(pca_data)
plot(pca_data, type = "l")
z = as.matrix(pca_data$rotation[,1])
dat = as.matrix(x[,-1])
View(x)
z = as.matrix(pca_data$rotation[,1:3])
View(z)
dat = as.matrix(x[,-1])
diff_index1 = dat %*% z
View(diff_index1)
a = lm(y ~ diff_index1[,1])
summary(a)
View(x)
a = lm(y ~ diff_index1[,1])
summary(a)
View(z)
pca_data[1:10]
a = lm(y ~ pca_data$rotation[,1])
pca_data$rotation[,1]
z = as.matrix(pca_data$rotation[,1:3])
dat = as.matrix(x[,-1])
View(z)
diff_index1 = dat %*% z
View(diff_index1)
a = lm(y ~ diff_index1[,1])
summary(a)
diff_index1[,1]
plot(pca_data, type = "l")
pca_data = prcomp(x[,-1],
center = T,
scale. = T)
pca_data$rotation[,1:3]
pca_data$rotation[,1:70]
pca_data$rotation[,1:80]
pca_data$rotation[,1:73]
pca_data$rotation[,1:74]
pca_data$rotation[,1:73]
pca_data$rotation[,1]
length(pca_data$rotation[,1])
View(x)
pca_data
BIC()
